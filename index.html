<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Quantum Leaper</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="script.js" defer></script> 
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 min-h-screen p-4 sm:p-8 flex justify-center items-center">

    <div id="game-container" class="w-full max-w-4xl bg-gray-800 rounded-xl shadow-2xl p-6 space-y-6">

        <h1 class="text-3xl sm:text-4xl font-extrabold text-blue-400 text-center">
            ⚛️ The Quantum Leaper
        </h1>
        <p class="text-center text-sm text-gray-400 mb-4">
            Adjust the particle's energy and the barrier's width to increase the probability of quantum tunneling.
        </p>

        <!-- Visualization Area -->
        <div class="relative bg-gray-900 border-2 border-blue-500 rounded-lg overflow-hidden">
            <canvas id="quantumCanvas" width="800" height="200" class="w-full"></canvas>
            <!-- Overlay for Predicted Probability -->
            <div id="prediction-overlay" class="absolute inset-0 flex flex-col justify-center items-center pointer-events-none opacity-0 transition-opacity duration-300">
                <span id="prediction-text" class="text-2xl font-bold p-2 rounded-lg backdrop-blur-sm bg-black/50"></span>
            </div>
        </div>

        <!-- Controls and Parameters -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            
            <!-- Energy Control -->
            <div class="p-4 bg-gray-700 rounded-lg shadow-md">
                <label for="energy-slider" class="block text-lg font-semibold text-orange-300 mb-2">
                    Particle Energy ($E$): <span id="energy-value">5</span> (of 10)
                </label>
                <input type="range" id="energy-slider" min="1" max="15" value="5"
                       class="w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer range-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
                <p class="text-xs text-gray-400 mt-1">
                    Classic physics requires $E > 10$ to pass.
                </p>
            </div>

            <!-- Width Control -->
            <div class="p-4 bg-gray-700 rounded-lg shadow-md">
                <label for="width-slider" class="block text-lg font-semibold text-green-300 mb-2">
                    Barrier Width ($L$): <span id="width-value">6</span>
                </label>
                <input type="range" id="width-slider" min="1" max="10" value="6"
                       class="w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer range-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                <p class="text-xs text-gray-400 mt-1">
                    Tunneling probability decreases exponentially with $L$.
                </p>
            </div>
        </div>

        <!-- Action and Probability -->
        <div class="flex flex-col sm:flex-row gap-4">
            <button id="tunnel-button"
                    class="w-full sm:w-1/2 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-xl shadow-lg transition duration-200 transform hover:scale-[1.01] focus:outline-none focus:ring-4 focus:ring-blue-500 focus:ring-opacity-50">
                Initiate Tunnel Attempt
            </button>
            <div class="w-full sm:w-1/2 p-3 bg-gray-700 rounded-xl shadow-md text-center">
                <div class="text-sm font-medium text-gray-300">Calculated Probability ($T$):</div>
                <div id="probability-display" class="text-2xl font-extrabold text-white">0.00%</div>
            </div>
        </div>

        <!-- AI Feedback and History -->
        <div class="p-4 bg-gray-700 rounded-xl shadow-xl">
            <h3 class="text-xl font-bold text-yellow-300 mb-3 flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm-7-9a1 1 0 100 2h14a1 1 0 100-2H3z" clip-rule="evenodd" />
                    <path d="M7 6a1 1 0 011-1h4a1 1 0 110 2H8a1 1 0 01-1-1zM5 13a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z" />
                </svg>
                AI Quantum Tutor Feedback
            </h3>
            <div id="ai-feedback" class="text-gray-200 italic">
                Welcome, Quantum Leaper! Adjust the controls and attempt your first tunnel. I'll analyze your results.
            </div>
        </div>
        
    </div>

</body>
</html>
